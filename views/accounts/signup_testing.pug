extends ../layouts/layout

block title
	|signup

block content
	h1 Sign up
	form(action='/accounts/signup' method='post')
		p(class={invalid: errors.username != null}) Username <br/>
			input(type='text' name='username')
			if errors.username != null
				| </br> #{errors.username.message}
		p(class={invalid: errors.email != null}) Email <br/>
			input(type='text' name='email' placeholder='yourname@example.com')
			if errors.email != null
				| </br> #{errors.email.message}
		p(class={invalid: errors.password != null}) Password <br/>
			input(type='password' name='password' placeholder='at least 8 characters')
			if errors.password != null
				| </br> #{errors.password.message}
		p(class={invalid: errors.confirm_password != null}) Confirm password <br/>
			input(type='password' name='confirm_password')
			if errors.confirm_password != null
				| </br> The confirmation must exactly match the password
		p
			input(type='submit' value='Sign up')
		p By creating an account you agree to our Terms of Service (link)
		p Have an account?
			|
			|
			a(href='/accounts/signin') Sign in »


block content
	mixin field(classes, title, type)
		p(class=classes) #{title} <br/>
			input(type=type, name=Object.keys(errors)[0])
			if Object.keys(errors)[0] != null
				| <br/> #{Object.keys(errors)[0].message}

	h1 Sign up
	form(action='/accounts/signup' method='post')

		+field({invalid: errors.username != null}, 'Username', 'text')
		+field({invalid: errors.email != null}, 'Email', 'text')
		+field({invalid: errors.password != null}, 'Password', 'password')
		+field({invalid: errors.confirm_password != null}, 'Confirm password', 'password') (errorMessage= 'The confirmation must exactly match the password')

		p
			input(type='submit' value='Sign up')
		p By creating an account you agree to our Terms of Service (link)
		p Have an account?
			|
			|
			a(href='/accounts/signin') Sign in »