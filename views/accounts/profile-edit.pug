extends ../layouts/layout

block title
	|edit profile

block content
	script= function autoSize(element) { element.style.height = '40px'; element.style.height = `${element.scrollHeight}px`; }

	div.readingWidth
		h1 Edit your profile

		if currentUser.pic != null
			img(src=`/uploads/${currentUser.pic}`)
		else
			img(src='/images/avatar.jpg')

		form.editProfile.flex-column(action='/accounts/profile/edit' method='post' enctype='multipart/form-data')
			p.title
				label.customButton.customFileUpload(for='fileUpload') Choose picture
				input#fileUpload(type='file' name='userPic')
			p.title Name
				input(type='text' name='name' value=currentUser.name)
			p.title Bio
				textarea(name='bio' placeholder='Enter short bio' oninput='autoSize(this)')=currentUser.bio
			p
				input.customButton(type='submit' name='publish' value='Save profile')