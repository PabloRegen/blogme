extends ../layouts/layout

block title
	|edit post

block content
	article
		div.readingWidth
			form.editPost.flex-column(action=`/posts/${slug}/edit` method='post' enctype='multipart/form-data')
				legend Edit your post
				p Title
					input.border1SolidGrey(type='text' name='title' value=post != null ? post.title : body.title)
					if errors.title != null
						p.invalid #{errors.title.message}
				p Subtitle
					textarea.border1SolidGrey(name='subtitle')= post != null ? post.subtitle : body.subtitle
				p Body
					textarea.border1SolidGrey(name='body' placeholder='Your article goes here...')= post != null ? post.body : body.body
				p Tags
					input.border1SolidGrey(type='text' name='tags' value=tags != null ? tags : body.tags)
				p
					label.customFileUpload(for='fileUpload') Choose picture
					input#fileUpload(type='file' name='postPic')
				div.savePublishPost.flex-row
					input.savePublish(type='submit' name='save' value='Save draft')
					input.savePublish(type='submit' name='publish' value='Publish post')
					form(action=`/posts/${slug}/delete` method='post')
						input.delete(type='submit' value='Delete post')