extends ../layouts/layout

block title
	|edit post

block content
	h1 Edit your post
	form(action=`/posts/${postId}/edit` method='post' enctype='multipart/form-data')
		p(class={invalid: errors.title != null}) Title <br/>
			input(type='text' name='title' value= post != null ? post.title : body.title)
			if errors.title != null
				|<br/> #{errors.title.message}
		p Subtitle <br/>
			textarea(name='subtitle')= post != null ? post.subtitle : body.subtitle
		p(class={invalid: errors.body != null}) Body <br/>
			textarea(name='body' placeholder='Your article goes here...')= post != null ? post.body : body.body
			if errors.body != null
				|<br/> #{errors.body.message}
		p Picture <br/>
			input(type='file' name='postPic')
		p
			input(type='submit' name='save' value='Save draft')
		p
			input(type='submit' name='publish' value='Publish post')
	p <br/> Search for articles (link)
	p
		a(href='/accounts/signout') Sign out